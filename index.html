<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <!--<script src="./js/error_dialog.js" charset="ISO-8859-1"></script>-->
    <meta charset="utf-8" />
    <link rel="stylesheet" href="css/general.css" type="text/css">
    <meta meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script src="js/Api.js"></script>
    <script src="js/Book.js"></script>
    <!--<link rel="shortcut icon" href="./img/Loto_icon.png">-->

    <title>Biblioteca</title>

</head>

<body onload="firstLoad()">
    <section class="site-title-bar">
        <section class="container container-flex">
            <h1>Tecno Library</h1>
            <article class="login-section">
                <article class="input user">
                    <i class="fas fa-user" style="font-size:24px;"></i>
                    <input class="input-text" id="txtemail" type="text" placeholder="Correo" />
                </article>
                <article class="input pass">
                    <i class="fas fa-lock" style="font-size:24px;"></i>
                    <input class="input-text" id="txtpassword" type="password" placeholder="Contraseña" />
                </article>
                <article>
                    <button id="btnlogin">Iniciar</button>
                    <a href="#">Registrate</a>
                </article>
            </article>
        </section>
    </section>

    <header>
        <section class="container site-search">
            <section class="site-search-background">
                <h1>Probando colores blancos</h1>
                <h2>Algún eslogan</h2>
                <p>Algún comentario antes del buscador</p>
                <article class="search-input-button">
                    <input id="txtSearch" type="text" placeholder="Título, autor o palabra clave" />
                    <button id="btnSearch">Buscar</button>
                </article>
            </section>
        </section>
    </header>

    <section class="most-relevant">
        <section class="container">
            <h3 id="busqueda">Más destacados</h3>
        </section>
    </section>

    <section class="list-books container" id="bookList"></section>

    <script>
        // testing

        let bookData = {
            "ID": "589",
            "title": "Diseño Ágil con TDD",
            "author": "Carlos Blé Jurados y autores",
            "content": "¿Dedicas una gran parte de tu tiempo de desarrollo a resolver incidencias de aplicaciones en producción?, ¿te enfrentas a sesiones de depuración interminables para encontrar la raíz de un problema?, ¿te extenúa descubrir innumerables fallos cada vez que introduces nuevas características a funcionalidades ya existentes?. Si respondes afirmativamente estas cuestiones y quieres promover el cambio, en este libro encontrarás la clave. TDD es una técnica de desarrollo que se lleva aplicando durante años con gran éxito en lugares como EEUU y Reino Unido, sin embargo, la ausencia de información en español sobre la misma ha supuesto un freno para su difusión en los países hispano-parlantes. El objetivo de este libro es poner solución a este dilema y ofrecer una referencia completa, tanto teórica como práctica, que permita al lector iniciarse en su comprensión y aplicación. A estas alturas sabemos que aprender nuevos lenguajes o frameworks incrementa nuestra productividad a corto plazo, pero los problemas más graves a los que nos enfrentamos siguen sin solución. TDD propone una nueva forma de afrontar los desarrollos atacando estas dificultades de frente y permitiendo entregar software más robusto y fiable. Con TDD, nuestro rendimiento a largo plazo sí se ve beneficiado, no olvidemos que uno de los factores con más influencia en la productividad de hoy es la calidad del código escrito ayer. Diseño Ágil con TDD nos enseñará a: <ul> <li>Escribir tests que aumenten la fiabilidad del código.</li> <li>Escribir tests de aceptación que nos ayudarán a centrarnos, específicamente, en el problema a resolver.</li> <li>Mejorar nuestros diseños para hacerlos más simples y flexibles.</li> <li>Escribir código fácil de mantener. Con TDD, los test son documentación viva y actualizada de nuestro código, la mejor documentación posible.</li> <li>Encajar TDD dentro del paradigma ágil y relacionarlo con otras técnicas como la integración continua.</li> </ul>",
            "content_short": "¿Dedicas una gran parte de tu tiempo de desarrollo a resolver incidencias de aplicaciones en producción?, ¿te enfrentas a sesiones de depuración interminables para encontrar la raíz de un problema?, ...",
            "publisher": "www.iExpertos.com",
            "publisher_date": "2010",
            "pages": "309",
            "language": "spanish",
            "url_details": "https://www.etnassoft.com/biblioteca/diseno-agil-con-tdd/",
            "url_download": "https://openlibra.com/book/diseno-agil-con-tdd",
            "cover": "http://collection.openlibra.com.s3.amazonaws.com/covers/2011/04/disenoAgilConTDD.jpg",
            "thumbnail": "http://collection.openlibra.com.s3.amazonaws.com/covers/2011/04/disenoAgilConTDD-110x153.jpg",
            "num_comments": "0",
            "categories": [
                {
                    "category_id": 222,
                    "name": "Java",
                    "nicename": "programacion_java"
                },
                {
                    "category_id": 218,
                    "name": "Metodologías Ágiles",
                    "nicename": "metodologias_agiles"
                },
                {
                    "category_id": 220,
                    "name": "Programación",
                    "nicename": "libros_programacion"
                },
                {
                    "category_id": 219,
                    "name": "TDD",
                    "nicename": "tdd_metodologias_agiles"
                }
            ],
            "tags": [
                {
                    "tag_id": 290,
                    "name": "agil",
                    "nicename": "agil"
                },
                {
                    "tag_id": 97,
                    "name": "java",
                    "nicename": "java"
                },
                {
                    "tag_id": 103,
                    "name": "tdd",
                    "nicename": "tdd"
                },
                {
                    "tag_id": 104,
                    "name": "tests",
                    "nicename": "tests"
                }
            ]
        };


        function firstLoad() {
            let book = new Book();
            book.createBook("bookList", bookData);

            let book2 = new Book();
            book2.createBook("bookList", bookData);
        };

    </script>

    <script>

        apiObject = new Api()        

        document.getElementById('btnSearch').
        addEventListener('click', 
            event => {
                txtSearch = document.getElementById('txtSearch')
                
                apiObject.searchBooks(txtSearch.value)
                console.log(apiObject.getData())     
                //console.log(event) 
            }    
        )
        

    </script> 

    <script>
         /* Inicio de sesion  (Leer valores) */

        document.getElementById("btnlogin").addEventListener("click", event => {
            console.log("HOLAAAAA")

            let myEmail = document.getElementById("txtemail").value
            let myPassword = document.getElementById("txtpassword").value 
                
               // console.log(email)
               // console.log(password)
            let params = new URLSearchParams(
                {
                    email:myEmail,
                    password:myPassword
                }
            ).toString();

            fetch("http://localhost/api-library/php/classes/testing.php?"+params).
            then(
                res=>res.json()
            ).then(
                data=>{console.log(data)}
            )   
        })

    </script>

</body>
</html>